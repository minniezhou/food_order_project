{"version":3,"sources":["components/Checkout.module.css","components/Cart.module.css","components/CartItem.module.css","components/FoodCartButton.module.css","components/MealItem.module.css","components/Header.module.css","components/MealItemForm.module.css","components/Modal.module.css","components/MealSummary.module.css","components/AvailableMeal.module.css","components/Card.module.css","components/MealSummary.js","assets/meals.jpg","components/Context.js","components/FoodCartButton.js","components/Header.js","components/Card.js","hooks/use-http.js","components/MealItemForm.js","components/MealItem.js","components/LoadingSpinner.js","components/AvailableMeal.js","components/Modal.js","components/CartItem.js","components/Checkout.js","components/OrderConfirmation.js","components/Cart.js","components/Meals.js","App.js","index.js"],"names":["module","exports","MealSummary","react","memo","className","classes","summary","FoodCartContent","React","createContext","items","totalAmount","addItem","item","removeItem","id","emptyCart","FoodCartProvider","props","useState","amount","foodItems","addFoodItems","Provider","value","prev","total","idx","findIndex","it","newItems","splice","children","FoodCartButton","ctx","useContext","addBump","setAddBump","useEffect","timer","setTimeout","console","log","clearTimeout","button","bump","onClick","icon","badge","CartIcon","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","Header","header","onCartClick","src","MealImg","alt","Card","card","useHttp","error","setError","isLoading","setLoading","httpRequest","useCallback","configuration","applyData","fetch","url","response","ok","Error","json","data","message","MealItemForm","addButtonRef","useRef","form","onSubmit","event","preventDefault","current","input","htmlFor","ref","type","min","max","step","defaultValue","MealItem","cxt","meal","name","description","price","toFixed","LoadingSpinner","AvailableMeal","availableMeals","setMeals","fetchedMeals","key","push","meals","length","map","Modal","ReactDOM","createPortal","backdrop","document","getElementById","modal","CartItem","actions","onRemove","onAdd","Checkout","initialValues","address","zip","validate","values","errors","trim","method","headers","body","JSON","stringify","userInfo","itemInfo","setSubmitted","control","onClose","OrderConfirmation","reduce","curr","Cart","isSubmitted","totalprice","pre","showCheckout","setShowCheckout","submitError","isSubmitting","SubmitRequest","Meals","showCart","setShowCart","showConfirmation","setShowConfirmation","e","App","createRoot","render"],"mappings":"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","file":"static/js/main.e9541101.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__VyWCE\",\"control\":\"Checkout_control__3FRA_\",\"actions\":\"Checkout_actions__wrD2b\",\"submit\":\"Checkout_submit__2HcwC\",\"invalid\":\"Checkout_invalid__2xd6k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__397rC\",\"item\":\"Cart_item__2WCs1\",\"total\":\"Cart_total__DdrQR\",\"actions\":\"Cart_actions__2yrsi\",\"button--alt\":\"Cart_button--alt__97s5v\",\"button\":\"Cart_button__38uTY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__2QbFr\",\"summary\":\"CartItem_summary__cxcpT\",\"price\":\"CartItem_price__2zUY9\",\"amount\":\"CartItem_amount__3eDip\",\"actions\":\"CartItem_actions__1l5dC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"FoodCartButton_button__3zri2\",\"icon\":\"FoodCartButton_icon__1iRML\",\"badge\":\"FoodCartButton_badge__2u7Yi\",\"bump\":\"FoodCartButton_bump__BiNK_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3PbmC\",\"description\":\"MealItem_description__15M6x\",\"price\":\"MealItem_price__PZTrD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__aWrpI\",\"main-image\":\"Header_main-image__2seyl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__3v_ik\",\"input\":\"MealItemForm_input__2rsCm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3Zhce\",\"modal\":\"Modal_modal__9Ha_O\",\"slide-down\":\"Modal_slide-down__aGZdX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealSummary_summary__2tDSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeal_meals__kwk_C\",\"meals-appear\":\"AvailableMeal_meals-appear__2USoz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3LUon\"};","import react from \"react\";\r\nimport classes from \"./MealSummary.module.css\";\r\n\r\nexport const MealSummary = react.memo(() => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n});\r\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","import React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nexport const FoodCartContent = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n  emptyCart: () => {},\r\n});\r\n\r\nconst FoodCartProvider = (props) => {\r\n  const [foodItems, addFoodItems] = useState({ items: [], amount: 0 });\r\n  return (\r\n    <FoodCartContent.Provider\r\n      value={{\r\n        items: foodItems.items,\r\n        totalAmount: foodItems.amount,\r\n        addItem: (item) => {\r\n          addFoodItems((prev) => {\r\n            const total = prev.amount + item.amount;\r\n            const idx = prev.items.findIndex((it) => {\r\n              return it.id === item.id;\r\n            });\r\n            if (idx === -1) {\r\n              return { items: [...prev.items, item], amount: total };\r\n            } else {\r\n              let newItems = prev.items;\r\n              newItems[idx].amount = newItems[idx].amount + item.amount;\r\n              return { items: newItems, amount: total };\r\n            }\r\n          });\r\n        },\r\n        removeItem: (id) => {\r\n          addFoodItems((prev) => {\r\n            const idx = prev.items.findIndex((it) => {\r\n              return it.id === id;\r\n            });\r\n            if (idx !== -1) {\r\n              const total = prev.amount - 1;\r\n              let newItems = prev.items;\r\n              if (newItems[idx].amount > 1) newItems[idx].amount--;\r\n              else {\r\n                newItems.splice(idx, 1);\r\n              }\r\n              return { items: newItems, amount: total };\r\n            }\r\n          });\r\n        },\r\n        emptyCart: () => {\r\n          addFoodItems({ items: [], amount: 0 });\r\n        },\r\n      }}\r\n    >\r\n      {props.children}\r\n    </FoodCartContent.Provider>\r\n  );\r\n};\r\n\r\nexport default FoodCartProvider;\r\n","import classes from \"./FoodCartButton.module.css\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { FoodCartContent } from \"./Context\";\r\n\r\nexport const FoodCartButton = (props) => {\r\n  const ctx = useContext(FoodCartContent);\r\n  // const totalAmount = ctx.items.reduce((prev, curr) => {\r\n  //   return prev + curr.amount;\r\n  // }, 0);\r\n\r\n  const [addBump, setAddBump] = useState(false);\r\n  useEffect(() => {\r\n    if (ctx.totalAmount > 0) {\r\n      setAddBump(true);\r\n    }\r\n    const timer = setTimeout(() => {\r\n      console.log(\"setting time out\");\r\n      setAddBump(false);\r\n    }, 300);\r\n    return () => {\r\n      console.log(\"cleanup\");\r\n      clearTimeout(timer);\r\n    };\r\n  }, [ctx.totalAmount]);\r\n  return (\r\n    <button\r\n      className={`${classes.button} + ${addBump ? classes.bump : \"\"}`}\r\n      onClick={props.onClick}\r\n    >\r\n      <span className={classes.icon}>\r\n        <CartIcon></CartIcon>\r\n      </span>\r\n      <span>Your Cart </span>\r\n      <span className={classes.badge}>{ctx.totalAmount}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nconst CartIcon = () => {\r\n  return (\r\n    <svg\r\n      className=\"w-6 h-6\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n","import MealImg from \"../assets/meals.jpg\";\r\nimport classes from \"./Header.module.css\";\r\nimport { FoodCartButton } from \"./FoodCartButton\";\r\nexport const Header = (props) => {\r\n  return (\r\n    <>\r\n      <header className={classes.header}>\r\n        <h2>ReactMeals</h2>\r\n        <FoodCartButton onClick={props.onCartClick}></FoodCartButton>\r\n      </header>\r\n      <img\r\n        src={MealImg}\r\n        alt=\"react meal\"\r\n        className={classes[\"main-image\"]}\r\n      ></img>\r\n    </>\r\n  );\r\n};\r\n","import classes from \"./Card.module.css\";\r\nexport const Card = (props) => {\r\n  return <div className={classes.card}>{props.children}</div>;\r\n};\r\n","import { useState, useCallback } from \"react\";\r\n\r\nconst useHttp = () => {\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setLoading] = useState(false);\r\n  const httpRequest = useCallback(async (configuration, applyData) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await fetch(configuration.url, { ...configuration });\r\n      if (!response.ok) {\r\n        throw new Error(\"Connection went wrong!\");\r\n      }\r\n      const data = await response.json();\r\n      applyData(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  return { error, isLoading, httpRequest };\r\n};\r\n\r\nexport default useHttp;\r\n","import { useRef, useState } from \"react\";\r\nimport classes from \"./MealItemForm.module.css\";\r\n\r\nexport const MealItemForm = (props) => {\r\n  const addButtonRef = useRef();\r\n  return (\r\n    <form\r\n      className={classes.form}\r\n      onSubmit={(event) => {\r\n        event.preventDefault();\r\n        const amount = +addButtonRef.current.value;\r\n        props.onSubmit(amount);\r\n      }}\r\n    >\r\n      <div className={classes.input}>\r\n        <label htmlFor={props.id}> Amount </label>\r\n        <input\r\n          ref={addButtonRef}\r\n          id={props.id}\r\n          type=\"number\"\r\n          min=\"1\"\r\n          max=\"5\"\r\n          step=\"1\"\r\n          defaultValue={1}\r\n        ></input>\r\n      </div>\r\n      <button>+ Add</button>\r\n    </form>\r\n  );\r\n};\r\n","import classes from \"./MealItem.module.css\";\r\nimport { MealItemForm } from \"./MealItemForm\";\r\nimport { FoodCartContent } from \"./Context\";\r\nimport { useContext } from \"react\";\r\nexport const MealItem = (props) => {\r\n  const cxt = useContext(FoodCartContent);\r\n  return (\r\n    <li className={classes.meal} key={props.id}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <div className={classes.description}> {props.description} </div>\r\n        <div className={classes.price}>{`$${props.price.toFixed(2)}`}</div>\r\n      </div>\r\n      <div>\r\n        <MealItemForm\r\n          onSubmit={(amount) => {\r\n            cxt.addItem({\r\n              ...props,\r\n              amount: amount,\r\n            });\r\n          }}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./spinner.css\";\r\n\r\nexport const LoadingSpinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"loading-spinner\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport classes from \"./AvailableMeal.module.css\";\r\nimport { Card } from \"./Card\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { MealItem } from \"./MealItem\";\r\nimport { LoadingSpinner } from \"./LoadingSpinner\";\r\n\r\nexport const AvailableMeal = () => {\r\n  const { error, isLoading, httpRequest } = useHttp();\r\n  const [availableMeals, setMeals] = useState([]);\r\n  useEffect(() => {\r\n    httpRequest(\r\n      {\r\n        url: \"https://food-order-1b58a-default-rtdb.firebaseio.com/Meals.json\",\r\n      },\r\n      (data) => {\r\n        let fetchedMeals = [];\r\n        for (let key in data) {\r\n          fetchedMeals.push({\r\n            id: key,\r\n            ...data[key],\r\n          });\r\n        }\r\n        setMeals(fetchedMeals);\r\n      }\r\n    );\r\n  }, [httpRequest, setMeals]);\r\n  return (\r\n    <section className={classes.meals}>\r\n      <Card>\r\n        {isLoading && <LoadingSpinner></LoadingSpinner>}\r\n        {error && <p>{error}</p>}\r\n        {!error && !isLoading && availableMeals.length > 0 && (\r\n          <ul>\r\n            {availableMeals.map((meal) => {\r\n              return <MealItem key={meal.id} {...meal}></MealItem>;\r\n            })}\r\n          </ul>\r\n        )}\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport classes from \"./Modal.module.css\";\r\nimport ReactDOM from \"react-dom\";\r\nexport const Modal = (props) => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <div className={classes.backdrop} onClick={props.onClick}></div>,\r\n        document.getElementById(\"overlays\")\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <div className={classes.modal}>{props.children}</div>,\r\n        document.getElementById(\"overlays\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button\r\n          onClick={() => {\r\n            props.onRemove(props.id);\r\n          }}\r\n        >\r\n          −\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            props.onAdd({ ...props, amount: 1 });\r\n          }}\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useContext } from \"react\";\r\nimport classes from \"./Checkout.module.css\";\r\nimport { FoodCartContent } from \"./Context\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport useInput from \"../hooks/use-input\";\r\n//import * as Yup from \"yup\";\r\n\r\n// const CheckoutSchema = Yup.object().shape({\r\n//   name: Yup.string()\r\n//     .min(2, \"Too Short!\")\r\n//     .max(50, \"Too Long!\")\r\n//     .required(\"Name Required\"),\r\n//   address: Yup.string()\r\n//     .min(2, \"Too Short!\")\r\n//     .max(50, \"Too Long!\")\r\n//     .required(\"Address Required\"),\r\n//   zip: Yup.string()\r\n//     .length(5)\r\n//     .matches(/^[0-9]{5}/)\r\n//     .required(),\r\n// });\r\n\r\nexport const Checkout = (props) => {\r\n  const cxt = useContext(FoodCartContent);\r\n  return (\r\n    <Formik\r\n      initialValues={{ name: \"\", address: \"\", zip: \"\" }}\r\n      // validationSchema={CheckoutSchema}\r\n      validate={(values, props) => {\r\n        const errors = {};\r\n        if (!values.name) {\r\n          errors.name = \"Required\";\r\n        } else if (values.name.trim().length < 2) {\r\n          errors.name = \"Name too short\";\r\n        }\r\n\r\n        if (!values.address) {\r\n          errors.address = \"Required\";\r\n        } else if (values.address.trim().length < 2) {\r\n          errors.address = \"Address too short\";\r\n        }\r\n\r\n        if (!values.zip) {\r\n          errors.zip = \"Required\";\r\n        } else if (!(values.zip.trim().length === 5)) {\r\n          errors.zip = \"Invalid Zip\";\r\n        }\r\n        return errors;\r\n      }}\r\n      onSubmit={(values) => {\r\n        props.httpRequest(\r\n          {\r\n            url: \"https://food-order-1b58a-default-rtdb.firebaseio.com/Orders.json\",\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ userInfo: values, itemInfo: cxt.items }),\r\n          },\r\n          () => {\r\n            props.setSubmitted(true);\r\n          }\r\n        );\r\n      }}\r\n    >\r\n      <Form>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"name\">Name:</label>\r\n          <Field name=\"name\" type=\"text\"></Field>\r\n          <ErrorMessage name=\"name\" />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"address\">Address: </label>\r\n          <Field name=\"address\" type=\"text\"></Field>\r\n          <ErrorMessage name=\"address\" />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"zip\">Zip code: </label>\r\n          <Field name=\"zip\" type=\"text\"></Field>\r\n          <ErrorMessage name=\"zip\" />\r\n        </div>\r\n        <div className={classes.actions}>\r\n          <button type=\"submit\">Confirm</button>\r\n          <button onClick={props.onClose}>Cancel</button>\r\n        </div>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nconst isValid = (prop) => {\r\n  return prop.trim().length > 0;\r\n};\r\nexport const Checkout_Orig = (props) => {\r\n  const cxt = useContext(FoodCartContent);\r\n  const {\r\n    value: nameValue,\r\n    valid: nameValid,\r\n    error: nameError,\r\n    onChanged: onNameChanged,\r\n    onBlur: onNameBlur,\r\n  } = useInput((name) => {\r\n    return isValid(name);\r\n  });\r\n\r\n  const {\r\n    value: addressValue,\r\n    valid: addressValid,\r\n    error: addressError,\r\n    onChanged: onAddressChanged,\r\n    onBlur: onAddressBlur,\r\n  } = useInput((name) => {\r\n    return isValid(name);\r\n  });\r\n\r\n  const {\r\n    value: zipValue,\r\n    valid: zipValid,\r\n    error: zipError,\r\n    onChanged: onZipChanged,\r\n    onBlur: onZipBlur,\r\n  } = useInput((name) => {\r\n    return name.trim().length === 5;\r\n  });\r\n\r\n  return (\r\n    <form\r\n      className={classes.form}\r\n      onSubmit={(e) => {\r\n        onZipBlur(e);\r\n        onNameBlur(e);\r\n        onAddressBlur(e);\r\n        e.preventDefault();\r\n        if (!nameValid || !addressValid || !zipValid) return;\r\n        console.log({ name: nameValue, address: addressValue, zip: zipValue });\r\n        props.onClose();\r\n        cxt.emptyCart();\r\n      }}\r\n    >\r\n      <div className={`${nameError ? classes.invalid : classes.control}`}>\r\n        <label htmlFor=\"name\">Your Name: </label>\r\n        <input id=\"name\" onChange={onNameChanged} onBlur={onNameBlur}></input>\r\n      </div>\r\n      <div className={`${addressError ? classes.invalid : classes.control}`}>\r\n        <label htmlFor=\"address\">Address: </label>\r\n        <input\r\n          id=\"address\"\r\n          onChange={onAddressChanged}\r\n          onBlur={onAddressBlur}\r\n        ></input>\r\n      </div>\r\n      <div className={`${zipError ? classes.invalid : classes.control}`}>\r\n        <label htmlFor=\"zip\">Zip code:</label>\r\n        <input id=\"zip\" onChange={onZipChanged} onBlur={onZipBlur}></input>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button>Confirm</button>\r\n        <button onClick={props.onClose}>Cancel</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { FoodCartContent } from \"./Context\";\r\n\r\nexport const OrderConfirmation = (props) => {\r\n  const cxt = useContext(FoodCartContent);\r\n  const total = cxt.items.reduce((prev, curr) => {\r\n    return prev + curr.price * curr.amount;\r\n  }, 0.0);\r\n  const onCloseHandler = () => {\r\n    props.onClose();\r\n    cxt.emptyCart();\r\n  };\r\n  return (\r\n    <>\r\n      <p>Your order is placed</p>\r\n      <p>Order number is : 1234567</p>\r\n      <p> total cost is ${total.toFixed(2)}</p>\r\n      <button onClick={onCloseHandler}>OK</button>\r\n    </>\r\n  );\r\n};\r\n","import { useContext, useState } from \"react\";\r\nimport classes from \"./Cart.module.css\";\r\nimport { FoodCartContent } from \"./Context\";\r\nimport { Modal } from \"./Modal\";\r\nimport CartItem from \"./CartItem\";\r\nimport { Checkout } from \"./Checkout\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { LoadingSpinner } from \"./LoadingSpinner\";\r\nimport { OrderConfirmation } from \"./OrderConfirmation\";\r\nexport const Cart = (props) => {\r\n  const [isSubmitted, setSubmitted] = useState(false);\r\n  const ctx = useContext(FoodCartContent);\r\n  const totalprice = ctx.items.reduce((pre, curr) => {\r\n    return pre + curr.amount * curr.price;\r\n  }, 0.0);\r\n  const [showCheckout, setShowCheckout] = useState(false);\r\n  const {\r\n    error: submitError,\r\n    isLoading: isSubmitting,\r\n    httpRequest: SubmitRequest,\r\n  } = useHttp();\r\n  return (\r\n    <Modal\r\n      onClick={() => {\r\n        props.onClose();\r\n        if (isSubmitted) ctx.emptyCart();\r\n      }}\r\n    >\r\n      {isSubmitting && <LoadingSpinner></LoadingSpinner>}\r\n      {submitError && <p>System Error!</p>}\r\n      {isSubmitted && (\r\n        <OrderConfirmation onClose={props.onClose}></OrderConfirmation>\r\n      )}\r\n      {!submitError && !isSubmitting && !isSubmitted && (\r\n        <>\r\n          <ul className={classes[\"cart-items\"]}>\r\n            {ctx.items.map((meal) => {\r\n              return (\r\n                <CartItem\r\n                  {...meal}\r\n                  onRemove={(id) => {\r\n                    ctx.removeItem(id);\r\n                  }}\r\n                  onAdd={(item) => {\r\n                    ctx.addItem({ ...item, amount: 1 });\r\n                  }}\r\n                ></CartItem>\r\n              );\r\n            })}\r\n          </ul>\r\n          <div className={classes.total}>\r\n            <span>Total: </span>\r\n            <span>${totalprice.toFixed(2)}</span>\r\n          </div>\r\n          {!showCheckout && (\r\n            <div className={classes.actions}>\r\n              <button\r\n                className={classes[\"button--alt\"]}\r\n                onClick={props.onClose}\r\n              >\r\n                Close\r\n              </button>\r\n              {ctx.items.length > 0 && (\r\n                <button\r\n                  className={classes.button}\r\n                  onClick={() => {\r\n                    setShowCheckout(true);\r\n                  }}\r\n                >\r\n                  Order\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n          {showCheckout && (\r\n            <Checkout\r\n              onClose={props.onClose}\r\n              httpRequest={SubmitRequest}\r\n              setSubmitted={setSubmitted}\r\n            ></Checkout>\r\n          )}\r\n        </>\r\n      )}\r\n    </Modal>\r\n  );\r\n};\r\n","import { MealSummary } from \"./MealSummary\";\r\nimport { Header } from \"./Header\";\r\nimport { AvailableMeal } from \"./AvailableMeal\";\r\nimport { Cart } from \"./Cart\";\r\nimport { useState } from \"react\";\r\nimport FoodCartProvider from \"./Context\";\r\nimport { OrderConfirmation } from \"./OrderConfirmation\";\r\nexport const Meals = () => {\r\n  const [showCart, setShowCart] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  return (\r\n    <FoodCartProvider>\r\n      {\r\n        <>\r\n          {showCart && (\r\n            <Cart\r\n              onClose={(event) => {\r\n                setShowCart(false);\r\n              }}\r\n            ></Cart>\r\n          )}\r\n          {showConfirmation && (\r\n            <OrderConfirmation\r\n              onClose={() => {\r\n                setShowConfirmation(false);\r\n              }}\r\n            />\r\n          )}\r\n          <Header\r\n            onCartClick={(e) => {\r\n              setShowCart(true);\r\n            }}\r\n          ></Header>\r\n          <MealSummary></MealSummary>\r\n          <AvailableMeal></AvailableMeal>\r\n        </>\r\n      }\r\n    </FoodCartProvider>\r\n  );\r\n};\r\n","import { Meals } from \"./components/Meals\";\nfunction App() {\n  return (\n    <div>\n      <Meals />\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}